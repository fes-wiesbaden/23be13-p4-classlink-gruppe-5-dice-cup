<!-- Von Lukas bearbeitet -->
<section class="p-card panel">
  <div class="p-card-body">
    <table class="table user-table" role="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>E-Mail</th>
          <th>Rollen</th>
          <th>Status</th>
          <th>Erstellt</th>
          <th>Aktionen</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let u of users; trackBy: trackById">
          <td>{{ u.id }}</td>
          <td>{{ u.name }}</td>
          <td>{{ u.email }}</td>
          <td>
              <span class="chip role-chip" *ngFor="let r of u.roles">{{ r | roleLabel }}</span>
          </td>
          <td>
            <span class="status" [ngClass]="u.status === 'active' ? 'ok' : 'no'">{{
              u.status === 'active' ? 'aktiv' : 'deaktiviert'
            }}</span>
          </td>
          <td>{{ u.createdAt | date: 'shortDate' }}</td>
          <td>
            <div class="actions">
              <p-button
                label="Passwort"
                icon="pi pi-key"
                (click)="resetPassword.emit(u.id)"
                [disabled]="busy"
                aria-label="Passwort zurücksetzen"
                styleClass="p-button-text"
              ></p-button>
              <p-button
                label="Löschen"
                icon="pi pi-trash"
                severity="danger"
                (click)="deleteUser.emit(u.id)"
                [disabled]="busy"
                aria-label="Benutzer löschen"
                styleClass="p-button-text"
              ></p-button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="p-card panel u-mt-8" *ngIf="users.length === 0">
      <div class="p-card-body u-text-muted">
        Noch keine Nutzer vorhanden. Lege den ersten Nutzer an.
      </div>
    </div>
  </div>
</section>
